
# ==========================================
# 1. Spark 3.0+ Native UI 모니터링 (필수)
# ==========================================
spark.ui.prometheus.enabled=true
spark.master.ui.prometheus.enabled=true

# ==========================================
# 2. Prometheus Servlet 설정 (데이터 내보내기)
# ==========================================
# (주의: spark.metrics.conf. 접두어를 꼭 붙여야 합니다)
spark.metrics.conf.*.sink.prometheusServlet.class=org.apache.spark.metrics.sink.PrometheusServlet
spark.metrics.conf.*.sink.prometheusServlet.path=/metrics/prometheus

# ==========================================
# 3. JVM 상세 지표 강제 수집 
# ==========================================
spark.metrics.conf.master.source.jvm.class=org.apache.spark.metrics.source.JvmSource
spark.metrics.conf.worker.source.jvm.class=org.apache.spark.metrics.source.JvmSource
spark.metrics.conf.driver.source.jvm.class=org.apache.spark.metrics.source.JvmSource
spark.metrics.conf.executor.source.jvm.class=org.apache.spark.metrics.source.JvmSource